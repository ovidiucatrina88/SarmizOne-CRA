{
  "id": "2c42f8a5-04ab-419a-a470-3d2aca33f424",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.activity_logs": {
      "name": "activity_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.asset_relationships": {
      "name": "asset_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "source_asset_id": {
          "name": "source_asset_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_asset_id": {
          "name": "target_asset_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "relationship_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "asset_relationships_source_asset_id_assets_id_fk": {
          "name": "asset_relationships_source_asset_id_assets_id_fk",
          "tableFrom": "asset_relationships",
          "tableTo": "assets",
          "columnsFrom": [
            "source_asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "asset_relationships_target_asset_id_assets_id_fk": {
          "name": "asset_relationships_target_asset_id_assets_id_fk",
          "tableFrom": "asset_relationships",
          "tableTo": "assets",
          "columnsFrom": [
            "target_asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assets": {
      "name": "assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "asset_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "asset_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Active'"
        },
        "owner": {
          "name": "owner",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legal_entity": {
          "name": "legal_entity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Unknown'"
        },
        "confidentiality": {
          "name": "confidentiality",
          "type": "cia_rating",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "integrity": {
          "name": "integrity",
          "type": "cia_rating",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "availability": {
          "name": "availability",
          "type": "cia_rating",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "asset_value": {
          "name": "asset_value",
          "type": "numeric(38, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "regulatory_impact": {
          "name": "regulatory_impact",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY['none']"
        },
        "external_internal": {
          "name": "external_internal",
          "type": "external_internal",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "dependencies": {
          "name": "dependencies",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "agent_count": {
          "name": "agent_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "business_unit": {
          "name": "business_unit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Information Technology'"
        },
        "hierarchy_level": {
          "name": "hierarchy_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'application_service'"
        },
        "architecture_domain": {
          "name": "architecture_domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Application'"
        },
        "parent_id": {
          "name": "parent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "backstage_entity_ref": {
          "name": "backstage_entity_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backstage_metadata": {
          "name": "backstage_metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "last_backstage_sync": {
          "name": "last_backstage_sync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auth_config": {
      "name": "auth_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "oidc_enabled": {
          "name": "oidc_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "oidc_issuer": {
          "name": "oidc_issuer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "oidc_client_id": {
          "name": "oidc_client_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "oidc_client_secret": {
          "name": "oidc_client_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "oidc_redirect_uri": {
          "name": "oidc_redirect_uri",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "oidc_scopes": {
          "name": "oidc_scopes",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"openid\",\"profile\",\"email\"]'::json"
        },
        "allow_local_auth": {
          "name": "allow_local_auth",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "default_role": {
          "name": "default_role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backstage_sync_logs": {
      "name": "backstage_sync_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "sync_type": {
          "name": "sync_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entities_processed": {
          "name": "entities_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "assets_created": {
          "name": "assets_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "assets_updated": {
          "name": "assets_updated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "relationships_created": {
          "name": "relationships_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sync_status": {
          "name": "sync_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_details": {
          "name": "error_details",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "sync_duration": {
          "name": "sync_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.control_library": {
      "name": "control_library",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "control_id": {
          "name": "control_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "control_type": {
          "name": "control_type",
          "type": "control_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "control_category": {
          "name": "control_category",
          "type": "control_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_framework": {
          "name": "compliance_framework",
          "type": "compliance_framework",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "cloud_domain": {
          "name": "cloud_domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nist_mappings": {
          "name": "nist_mappings",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "pci_mappings": {
          "name": "pci_mappings",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "cis_mappings": {
          "name": "cis_mappings",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "gap_level": {
          "name": "gap_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'No Gap'"
        },
        "addendum": {
          "name": "addendum",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'N/A'"
        },
        "architectural_relevance": {
          "name": "architectural_relevance",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "organizational_relevance": {
          "name": "organizational_relevance",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "ownership_mapping": {
          "name": "ownership_mapping",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_models": {
          "name": "service_models",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "item_type": {
          "name": "item_type",
          "type": "item_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'template'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "control_library_control_id_unique": {
          "name": "control_library_control_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "control_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.controls": {
      "name": "controls",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "control_id": {
          "name": "control_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "control_type": {
          "name": "control_type",
          "type": "control_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "control_category": {
          "name": "control_category",
          "type": "control_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "implementation_status": {
          "name": "implementation_status",
          "type": "implementation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "control_effectiveness": {
          "name": "control_effectiveness",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.75
        },
        "implementation_cost": {
          "name": "implementation_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_per_agent": {
          "name": "is_per_agent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cost_per_agent": {
          "name": "cost_per_agent",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "associated_risks": {
          "name": "associated_risks",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "NULL"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "library_item_id": {
          "name": "library_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_framework": {
          "name": "compliance_framework",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cloud_domain": {
          "name": "cloud_domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nist_mappings": {
          "name": "nist_mappings",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "pci_mappings": {
          "name": "pci_mappings",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "cis_mappings": {
          "name": "cis_mappings",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enterprise_architecture": {
      "name": "enterprise_architecture",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "architecture_domain": {
          "name": "architecture_domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "enterprise_architecture_parent_id_enterprise_architecture_id_fk": {
          "name": "enterprise_architecture_parent_id_enterprise_architecture_id_fk",
          "tableFrom": "enterprise_architecture",
          "tableTo": "enterprise_architecture",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.legal_entities": {
      "name": "legal_entities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdiction": {
          "name": "jurisdiction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "regulatory_framework": {
          "name": "regulatory_framework",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "legal_entities_entity_id_unique": {
          "name": "legal_entities_entity_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "entity_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_controls": {
      "name": "risk_controls",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "risk_id": {
          "name": "risk_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "control_id": {
          "name": "control_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "risk_controls_risk_id_risks_id_fk": {
          "name": "risk_controls_risk_id_risks_id_fk",
          "tableFrom": "risk_controls",
          "tableTo": "risks",
          "columnsFrom": [
            "risk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "risk_controls_control_id_controls_id_fk": {
          "name": "risk_controls_control_id_controls_id_fk",
          "tableFrom": "risk_controls",
          "tableTo": "controls",
          "columnsFrom": [
            "control_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_costs": {
      "name": "risk_costs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "risk_id": {
          "name": "risk_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cost_module_id": {
          "name": "cost_module_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cost_value": {
          "name": "cost_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "risk_costs_risk_id_risks_id_fk": {
          "name": "risk_costs_risk_id_risks_id_fk",
          "tableFrom": "risk_costs",
          "tableTo": "risks",
          "columnsFrom": [
            "risk_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_library": {
      "name": "risk_library",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "risk_id": {
          "name": "risk_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "risk_category": {
          "name": "risk_category",
          "type": "risk_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "threat_actor": {
          "name": "threat_actor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "threat_capability": {
          "name": "threat_capability",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "threat_event": {
          "name": "threat_event",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vulnerability": {
          "name": "vulnerability",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_loss": {
          "name": "primary_loss",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_loss": {
          "name": "secondary_loss",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_framework": {
          "name": "compliance_framework",
          "type": "compliance_framework",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'Custom'"
        },
        "item_type": {
          "name": "item_type",
          "type": "item_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'template'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "risk_library_risk_id_unique": {
          "name": "risk_library_risk_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "risk_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_responses": {
      "name": "risk_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "risk_id": {
          "name": "risk_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_type": {
          "name": "response_type",
          "type": "risk_response_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "justification": {
          "name": "justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "assigned_controls": {
          "name": "assigned_controls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "transfer_method": {
          "name": "transfer_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "avoidance_strategy": {
          "name": "avoidance_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "acceptance_reason": {
          "name": "acceptance_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "cost_module_ids": {
          "name": "cost_module_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "implementation_cost": {
          "name": "implementation_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "expected_effectiveness": {
          "name": "expected_effectiveness",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "responsible_party": {
          "name": "responsible_party",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_date": {
          "name": "target_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_summaries": {
      "name": "risk_summaries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "month": {
          "name": "month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_risks": {
          "name": "total_risks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "critical_risks": {
          "name": "critical_risks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "high_risks": {
          "name": "high_risks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "medium_risks": {
          "name": "medium_risks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "low_risks": {
          "name": "low_risks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_inherent_risk": {
          "name": "total_inherent_risk",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_residual_risk": {
          "name": "total_residual_risk",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "risk_reduction": {
          "name": "risk_reduction",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "exposure_curve_data": {
          "name": "exposure_curve_data",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "minimum_exposure": {
          "name": "minimum_exposure",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "maximum_exposure": {
          "name": "maximum_exposure",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "mean_exposure": {
          "name": "mean_exposure",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "median_exposure": {
          "name": "median_exposure",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "percentile_95_exposure": {
          "name": "percentile_95_exposure",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "percentile_99_exposure": {
          "name": "percentile_99_exposure",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "tenth_percentile_exposure": {
          "name": "tenth_percentile_exposure",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "ninetieth_percentile_exposure": {
          "name": "ninetieth_percentile_exposure",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risks": {
      "name": "risks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "risk_id": {
          "name": "risk_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "risk_category": {
          "name": "risk_category",
          "type": "risk_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "inherent_risk": {
          "name": "inherent_risk",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "residual_risk": {
          "name": "residual_risk",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "associated_assets": {
          "name": "associated_assets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "parameters": {
          "name": "parameters",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::json"
        },
        "library_item_id": {
          "name": "library_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "auth_type": {
          "name": "auth_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'local'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "failed_login_attempts": {
          "name": "failed_login_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_login": {
          "name": "last_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "password_salt": {
          "name": "password_salt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password_iterations": {
          "name": "password_iterations",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "account_locked_until": {
          "name": "account_locked_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sso_subject": {
          "name": "sso_subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sso_provider": {
          "name": "sso_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_email_verified": {
          "name": "is_email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified_at": {
          "name": "email_verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_title": {
          "name": "job_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manager_id": {
          "name": "manager_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "login_count": {
          "name": "login_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_failed_login": {
          "name": "last_failed_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vulnerabilities": {
      "name": "vulnerabilities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "vulnerability_id": {
          "name": "vulnerability_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "vulnerability_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "cvss_score": {
          "name": "cvss_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "cvss_vector": {
          "name": "cvss_vector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cve_id": {
          "name": "cve_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cwe_id": {
          "name": "cwe_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "vulnerability_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "discovered_date": {
          "name": "discovered_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_seen_date": {
          "name": "last_seen_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "remediation": {
          "name": "remediation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "references": {
          "name": "references",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "tags": {
          "name": "tags",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "scanner": {
          "name": "scanner",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scan_id": {
          "name": "scan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vulnerability_assets": {
      "name": "vulnerability_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "vulnerability_id": {
          "name": "vulnerability_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "host_name": {
          "name": "host_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "port": {
          "name": "port",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "protocol": {
          "name": "protocol",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service": {
          "name": "service",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "affected_component": {
          "name": "affected_component",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "vulnerability_assets_vulnerability_id_vulnerabilities_id_fk": {
          "name": "vulnerability_assets_vulnerability_id_vulnerabilities_id_fk",
          "tableFrom": "vulnerability_assets",
          "tableTo": "vulnerabilities",
          "columnsFrom": [
            "vulnerability_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "vulnerability_assets_asset_id_assets_id_fk": {
          "name": "vulnerability_assets_asset_id_assets_id_fk",
          "tableFrom": "vulnerability_assets",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.asset_status": {
      "name": "asset_status",
      "schema": "public",
      "values": [
        "Active",
        "Decommissioned",
        "To Adopt"
      ]
    },
    "public.asset_type": {
      "name": "asset_type",
      "schema": "public",
      "values": [
        "data",
        "application",
        "device",
        "system",
        "network",
        "facility",
        "personnel",
        "other",
        "application_service",
        "technical_component"
      ]
    },
    "public.auth_type": {
      "name": "auth_type",
      "schema": "public",
      "values": [
        "local",
        "sso"
      ]
    },
    "public.cia_rating": {
      "name": "cia_rating",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high"
      ]
    },
    "public.compliance_framework": {
      "name": "compliance_framework",
      "schema": "public",
      "values": [
        "CIS",
        "NIST",
        "ISO27001",
        "SOC2",
        "PCI_DSS",
        "HIPAA",
        "GDPR",
        "CCM",
        "Custom"
      ]
    },
    "public.control_category": {
      "name": "control_category",
      "schema": "public",
      "values": [
        "technical",
        "administrative",
        "physical"
      ]
    },
    "public.control_type": {
      "name": "control_type",
      "schema": "public",
      "values": [
        "preventive",
        "detective",
        "corrective"
      ]
    },
    "public.cost_module_type": {
      "name": "cost_module_type",
      "schema": "public",
      "values": [
        "fixed",
        "per_event",
        "per_hour",
        "percentage"
      ]
    },
    "public.currency": {
      "name": "currency",
      "schema": "public",
      "values": [
        "USD",
        "EUR"
      ]
    },
    "public.external_internal": {
      "name": "external_internal",
      "schema": "public",
      "values": [
        "external",
        "internal"
      ]
    },
    "public.hierarchy_level": {
      "name": "hierarchy_level",
      "schema": "public",
      "values": [
        "strategic_capability",
        "value_capability",
        "business_service",
        "application_service",
        "technical_component"
      ]
    },
    "public.implementation_status": {
      "name": "implementation_status",
      "schema": "public",
      "values": [
        "not_implemented",
        "in_progress",
        "fully_implemented",
        "planned"
      ]
    },
    "public.item_type": {
      "name": "item_type",
      "schema": "public",
      "values": [
        "template",
        "instance"
      ]
    },
    "public.relationship_type": {
      "name": "relationship_type",
      "schema": "public",
      "values": [
        "part_of",
        "depends_on",
        "contains"
      ]
    },
    "public.risk_category": {
      "name": "risk_category",
      "schema": "public",
      "values": [
        "operational",
        "strategic",
        "compliance",
        "financial"
      ]
    },
    "public.risk_response_type": {
      "name": "risk_response_type",
      "schema": "public",
      "values": [
        "accept",
        "avoid",
        "transfer",
        "mitigate"
      ]
    },
    "public.severity": {
      "name": "severity",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "admin",
        "analyst",
        "viewer"
      ]
    },
    "public.vulnerability_severity": {
      "name": "vulnerability_severity",
      "schema": "public",
      "values": [
        "info",
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.vulnerability_status": {
      "name": "vulnerability_status",
      "schema": "public",
      "values": [
        "open",
        "in_progress",
        "resolved",
        "false_positive",
        "accepted_risk"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}